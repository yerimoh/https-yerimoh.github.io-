---
title: "[017] Algorithm(비선형자료구조_그래프 오일러결로, 헤밀턴 경로)"
date:   2020-02-19
excerpt: "비선형자료구조_그래프 오일러결로, 헤밀턴 경로"
category: [Algorithm]
layout: post
tag:
- Algorithm
comments: true
---

# 그래프

# 정의
그래프 이론에서 그래프란 객체의 일부 쌍 pair 들이 **‘연관되어’** 있는 객체 집합 구조    
= ‘한붓 그리기’  

# 그래프 이론 유래
18세기 스위스 출신의 저명한 수학자 오일러 (Leonhard Euler, 1707~1783)에 의해 그래프 이론이 본격적으로 시작됨
 
쾨니히스베르크(Königsberg) 다리 문제    
* 그래프 이론의 대표적인 예    
* 두 개의 섬과 강둑 사이를 연결하는 7개의 다리가 있을 때 각 다리를 꼭 한 번씩만 건너는 경로를 찾는 문제임   

## 그래프 이론의 시작
오일러가 쾨니히스베르크(Königsberg) 다리 문제를 **그래프로 품** ->  ‘그래프 이론’의 시작    
각각의 다리에 a부터 g까 지 이름을 부여하고 도식화해 해결     
* **Vertex**: A부터 D까지의 정점    
* **Edge**: a 부터 g까지의 간선     
![image](https://user-images.githubusercontent.com/76824611/121096207-b2464d00-c82c-11eb-85ac-b007bd0f3dfe.png)
![image](https://user-images.githubusercontent.com/76824611/121096220-b6726a80-c82c-11eb-89f0-99d2d58733d7.png)

## 그래프의  2가지 종류
 방향 그래프(directed graph 또는 digraph)
- 방향이 있는 그래프임
- 연결선을 화살표로 표시하여 방향을 나타내는 그래프임
* 방향이 없는 그래프(undirected graph)
- 방향이 없는 그래프임
- 그래프의 특수한 형태이므로 특별한 언급이 없는 한 그래프는 방향이 
없는 그래프를 의미함
* 그래프의 간단한 예
 V={1, 2, 3, 4}이며 E={(1, 2), (2, 3), (2, 4)}
* 경로(path)
모든 1≤  i <k에 대해 연결선 (vi , vi + 1 )이 존재할 때, 
정점들의 열(sequence) v1, v2, v3, ⋯, vk  를 경로 라고 함
     이때 k ≥ 1이며 이 경로의 길이는 k－1임 
   (인접한 노드들로 구성된 집합)
	사이클(cycle)
	v1  = vk  (k ≠ 1)이면 이러한 경로를 사이클이라고 함
	자신으로 되돌아 오는 것

 
## 오일러의 정리 Euler's Theorem
**모든** **정점Vertex**이 **짝수 개의 차수** Degree 를 갖는다면 모든 다리를 한 번씩만 건너서 도달하는 것이 성립             

그로부터 약 100년 후 독일의 수학자 칼 히어홀저 Carl Hierholzer 가 이를 수학적으로 증명해냄.      
* 증명에 따르면 위의 다리는 모든 정점이 짝수개의 차수를 갖지 않으므로(심지어 짝수개의 차수를 갖는 정점은 하나도 없다) 오일러 경로가 아님

# 해밀턴 경로 Hamiltonian Path
해밀턴 경로는 **각 정점**을 **한 번씩** 방문하는 무향 또는 유향 그래프 경로를 말함
* **오일러 경로**: **간선**을 기준으로 함
* **해밀턴 경로**: **정점**을 기준으로 함

그러나 이러한 단순한 차이에도 불구하고 놀랍게도 해밀턴 경로를 찾는 문제는 ~~최적 알고리즘~~이 없는 대표적인 **NP-완전 Complete** (NP 문제 중 NP-난해 Hard 인 문제를 NP-완전 문제라 부른다) 문제임

#### 해밀턴 순환 Hamiltonian Cycle
원래의 출발점으로 돌아오는 경로
**[외판원 문제 Travelling Salesman Problem(TSP)]**    
이중에서도 특히 최단 거리를 찾는 문제는 알고리즘 분야에서 유명 
* 도시를 방문하고 돌아오는 가장 짧은 경로를 찾는 문제
* 즉 최단 거리인 해밀턴 순환을 찾는 문제
* NP-난해 문제로 이론 컴퓨터과학 Theoretical Computer Science 분야의 매우 중요한 문제 중 하나
 
* 각 도시의 위치가 표시된 미국 지도가 있다. 
* 각 도시를 한 번씩 방문한다고 했을 때, 어떤 순서로 방문해야 가장 짧은 거리가 될까?    
(만약 도시가 20개라고 할 때)
이 문제의 정답을 찾기 위해 다녀야 하는 총 경로의 수는 20!
20!=2,432,902,008,176,640,000이다.   
약 240 경 번의 경로를 다녀봐야 가장 짧은 경로를 찾을 수 있음    
문제는 단순하지만 정답 엄청남    

## NP 복잡도
NP
* 비결정론적 튜링 기계(NTM)로 다항 시간 안에 풀 수 있는 판정 문제의 집합으로
* NP는 비결 정론적 다항시간(非決定論的 多項時間, Non-deterministic Polynomial time)의 약자

NP에 속하는 문제는 결정론적 튜링 기계로 다항 시간에 검증이 가능하고, 그 역도 성립

또한 결정론적 튜링 기계로 다항 시간 안에 풀 수 있는 문제는 비결정론적 튜링 기계로도 다항 시간 안에 풀 수 있으므로, 
* P 집합: NP 집합의 부분집합이다. 
이때 P가 NP의 진부분집합(Proper Subset)인 지, 혹은 P와 NP가 같은지에 대해서는 아직 알려지지 않았다. 이 문제는 P-NP 문제로 불리우며 컴퓨터과학 분야의 대표적인 미해결 문제 중 하나다.

클레이 수학 연구소에서 발표한 7개의 밀레니엄 문제(미해결 문제) 중 하나이며 해결하는 사람에게 100만 달러의 상금이 걸려 있기도 하다.
그런데 앞서 설명을 보면서 다소 혼동되는 부분이 한 군데 있을 것이다. 왜 해밀턴 경로 문제와 외판원 문제의 NP 문제가 다를까? 먼저, 혼동될 수 있으니 3가지 문제의 구분부터 다시 한번 살펴보자.

•해밀턴 경로: 한 번만 방문하는 경로 
•해밀턴 순환: 한 번만 방문하여 출발지로 돌아오는 경로 
•외판원 문제: 한 번만 방문하여 출발지로 돌아오는 경로 중 가장 짧은 경로

따라서 이 세 문제는 ‘해밀턴 경로 > 해밀턴 순환 > 외판원 문제’의 포함 관계를 이룸 

이제 해밀턴 경로와 외판원 문제, 2가지 문제를 다시 한번 정의해보자.
1. 해밀턴 경로가 존재하는가?
2. 각 도시를 방문하고 돌아오는 가장 짧은 경로를 찾아라(최단 거리 해밀턴 순환을 찾아라).

NP-완전 문제의 조건.
•NP 문제다.
•NP-난해 문제다.
 


앞서 P-NP 문제는 컴퓨터과학 분야의 대표적인 미해결 문제 중 하나라고 했는데, 그림 12-5는 이에 따라 P≠NP인 경우와 P=NP인 경우의 NP-완전, NP-난해 문제 집합에 대한 관계다. 
참고로 P≠NP일 것이라고 많은 사람들이 추측만 할 뿐이며 아직 증명되지 않았다. 어느 경우이든 NP이면서 NP-난해 문제인 경우를 NP-완전 문제라 한다.
(1번 문제)
* 결정 문제(Decision Problem)로 다항 시간에 정답을 검증 가능
* 즉 NP 문제 이며, NP-난해 문제다.  
* NP-완전 문제다
 
(2번 문제)
* ~~결정 문제~~가 아님 
* NP 문제가 아닐 수 있음. 
* 증명할 수 있는 NP-난해 문제이 지만 NP 문제가 아닐 수 있음
* ~~NP-완전 문제~~가 아님
* 2번은 NP-난해 문제
