---
title: "[01] Kotlin:"
date:   2022-12-11
excerpt: "Learn App with Kotlin"
category: [App]
layout: post
tag:
- Kotlin
- App
order: 0

comments: true
---
  
01-2 첫 번째 앱 만들기
앞에서 안드로이드 스튜디오를 설치했으니 이제 안드로이드 스튜디오를 실행하고 첫 번째 앱을 만들어 보겠습니다. 안드로이드 앱을 개발하려면 먼저 프로젝트부터 만들어야 합니다.
그림 1-9 안드로이드 프로젝트 만들기
프로젝트 생성
안드로이드 스튜디오를 실행하면 첫 화면 에서 [New Project]를 선택해 새로운 프로젝트를 만듭니다.
새로운 프로젝트를 만드는 첫 번째 단계는 앱이 실행될 플랫폼과 템플릿을 선택 하는 것입니다. 안드로이드 앱은 스마트 폰뿐만 아니라 웨어러블, TV, 자동차 등 여러 플랫폼에서 실행되지만, 이 책에서는 스마트폰 에서 실행되는 앱을 만듭니다. 따라서 왼쪽 메뉴에서 [Phone and Tablet]을 선택하고 템플릿 목록에서 빈 화면을 기본으로 제공하는 [Empty Activity]를 선택합니다. 빈 화면 말고도 화면이 아예 없는 템플릿부터 내비게이션, 전체 화면, 지도, 탭 화면 등 다양한 템플릿을 제공 합니다
  
  
그다음으로 프로젝트 정보를 입력하는 화면이 나타납니다. 여기서는 Name 부분에 AndroidLab * 이라고 입력하고 나머지는 기본값 그대로 <Finish>를 클릭해 프로젝트를 생성합니다. 그런데 이 부분은 몇 가지 중요한 설정이 있으므로 좀 더 자세히 들여다보겠습 니다.
프로젝트명 패키지명. 프로젝트 식별값 프로젝트 저장 위치 프로젝트 개발 언어
최소 SDK 버전
서포트 라이브러리 사용 여부
그림 1-11 프로젝트 설정
Package name은 앱의 식별값입니다. 안드로이드 앱은 개발자가 작성한 패키지명으로 식별 됩니다. 패키지명이 같은 앱은 스토어에 등록할 수 없을 뿐 아니라 기기에 설치할 수도 없으 므로 고유한 이름으로 지어야 합니다. 보통은 도메인을 역순으로 입력하고 끝에 프로젝트명을 붙이는 형태로 작성합니다. 필자는 com.example.androidlab으로 입력했습니다.
Save location은 프로젝트의 파일들이 저장되는 루트 디렉터리입니다. 앱을 개발하면서 추가하는 소스나 이미지 등이 이 디렉터리에 저장됩니다. 그런데 C:\에는 쓰기 권한이 없을 수있으므로 오른쪽에 디렉터리 모양 아이콘( )을 눌러 C:\ 아래 디렉터리를 하나 만들고 그곳을 지정해야 합니다.
Language는 안드로이드 앱을 어떤 언어로 개발할 것인지를 나타냅니다. 안드로이드 스튜디 오는 개발 언어로 Kotlin과 Java 2가지를 지원하는데 기본값은 Kotlin입니다. 만약 Java로 개발하고 싶다면 Java를 선택하면 됩니다. 다만 여기서 Kotlin으로 지정했어도 Java 파일을 언제든지 추가할 수 있습니다. 즉, 여기서 지정한 언어로 프로젝트의 기본 소스 파일과 설정이 추가되는 것이지 꼭 그 언어로만 개발해야 하는 것은 아닙니다
Minimum SDK는 앱이 설치되는 최소 SDK 버전입니다. 이 프로젝트로 개발한 앱은 여기서 설정한 버전 이상의 폰에만 설치됩니다. 이 부분은 「02-3」절에서 빌드 설정 파일을 살펴볼때 좀 더 다루겠습니다. 참고로 여기서 SDK 버전을 선택하면 이 앱을 실행할 수 있는 기기의 점유율이 아래쪽에 나타납니다.
그 아래 Use legacy android.support libraries라고 적힌 체크박스는 android.support 라이 브러리를 사용할 것인지를 선택하는 옵션입니다. 구글은 안드로이드 앱 개발을 지원하고자 다양한 라이브러리를 제공하는데 이 라이브러리를 통칭해서 서포트 라이브러리라고 합니다.
그런데 서포트 라이브러리를 제트팩 JetPack 의 androidx 라이브러리로 통합했습니다. 제트팩과 androidx 라이브러리는 11장에서 자세하게 다룹니다. 새로 만드는 앱이라면 굳이 support 라이브러리를 이용할 필요는 없으므로 여기서는 체크박스를 해제합니다.
안드로이드 스튜디오의 화면 구성
프로젝트를 만들면 앱을 빌드하는 데 필요한 각종 준비 작업이 자동으로 진행됩니다. 이 작업이 끝나면 * 다음과 같은 화면이 보입니

1 툴바: 앱을 실행하거나 안드로이드 도구를 시작하는 다양한 작업 아이콘이 있습니다.
2 탐색 메뉴: 프로젝트를 탐색하고 수정할 파일을 열 수 있습니다.
3 편집기 창: 코드를 작성하고 수정할 수 있습니다.
4 도구 창 모음: 창 양옆과 아래쪽에 개별 도구 창을 열거나 닫을 수 있는 버튼이 있습니다.
5 프로젝트 창: 프로젝트 파일을 관리할 수 있습니다.
6 상태 표시줄: 프로젝트와 안드로이드 스튜디오의 상태나 경고 메시지 등을 보여 줍니다.
안드로이드 스튜디오 아래쪽에는 각종 도구 창을 열 수 있는 탭이 있는데, 그중 로그캣 Logcat 에는 앱이 실행 중일 때 발생하는 로그가 출력됩니다. 앱에서 출력한 로그나 오류 메시지 등을 확인할 때 자주 보는 창이므로 기억해 두기 바랍니다.
그림 1-13 로그캣
SDK 매니저
안드로이드 스튜디오 화면의 오른쪽 위를 보면 툴바에 아이콘이 보입니다. 이 아이콘을 클릭하면 안드로이드 SDK를 관리할 수 있는 SDK 매니저가 열립니다.

  첫 번째 탭인 [SDK Platforms]에서는 안드로이드 SDK 목록을 보여 줍니다. 안드로이드 스튜디오를 설치할 때 최신 버전의 SDK * 가 기본으로 설치되므로 목록에서 해당 버전에 체크 표시된 것을 확인할 수 있습니다. 이 목록에서 체크박스에 표시하거나 해제하는 방법으로 SDK를 설치하거나 업데이트 또는 제거할 수 있습니다.
체크박스를 변경하면 <Apply>가 활성화되므로 이 버튼을 클릭해서 수행합니다.
깡샘!
질문 있어요!
최신 버전이 아닌 SDK를 설치할 필요가 있나요?
보통은 최신 버전의 SDK로 개발하지만 더 낮은 버전에서 테스트할 수도 있습니다. 따라서 다른 버전의 SDK를 설치할 때도 많습니다. 예를 들어 지금 최신 버전은 안드로이드 12지만 호환성을 테스트하고자 의도적으로 11 버전을 설치할 수도 있습니다.
두 번째 탭인 [SDK Tools]를 클릭하면 개발자 도구들이 표시됩니다.
AMD CPU라면 설치
인텔 CPU라면 설치
그림 1-15 SDK 개발자 도구
기본으로 필요한 도구는 안드로이드 스튜디오를 설치할 때 포함되므로 추가로 설치할 필요는 없습니다. 그러나 각 도구를 최신 버전으로 업데이트하거나 에뮬레이터 추가 도구를 이곳 에서 설치할 수 있습니다. 혹시 필수 도구가 설치되지 않았다면 다음 표를 참고하여 설치하고될 수 있으면 최신 버전으로 유지하는 것이 좋습니다.

표 1-1 SDK 도구
이름 용도 설치 여부
Android SDK Build-Tools 32-rc1 앱을 빌드하는 데 필요한 도구
Android Emulator 앱을 실행하는 데 필요한 도구
필수 설치
안드로이드 플랫폼과 연동되는 adb, fastboot, systrace와 같은 도구 모음
Android Emulator Hypervisor Driver for AMD Processors(Installer)
AMD CPU라면 설치
Intel x86 Emulator Accelerator (HAXM intaller)
인텔 에뮬레이터 가속기 인텔 CPU라면 설치
표에서 위 3가지는 꼭 설치해야 하며 아래 2가지는 자신의 CPU에 따라 설치하면 됩니다. 그런데 AMD의 하이퍼바이저 드라이버나 인텔의 가속기인 HAXM을 설치하려면 먼저 CPU가 가상화 기술을 지원해야 하며 이를 활성화(BIOS 설정)해야 합니다.
이러한 내용은 컴퓨터 환경에 따라 달라지므로 안드로이드 개발자 사이트에서 관련 문서 * 를 확인하기 바랍니다.
* 에뮬레이터 VM 가속 구성: developer.an droid.com/studio/run/emulator-accelera tion?hl=ko#accel-vm
그림 1-16 윈도우10에서 가상화 사용 확인(검색란에 ‘작업 관리자’로 실행)
기타 설정
여기서는 안드로이드 스튜디오의 몇 가지 설정을 살펴보겠습니 다. 이 설정은 필수는 아니지만 앱 개발을 좀 더 편리하게 합니다.
특히 자동 임포트 설정은 이 책의 실습을 진행하는 데 필요한 옵션 입니다. 안드로이드 스튜디오를 설정하려면 메뉴에서 [File → Settings]를 선택합니다.

01-3 앱 실행하기
이제 앱을 실행해 테스트하는 방법을 살펴보겠습니다. 2가지 방법이 있는데 하나는 안드로이드 스튜디오가 제공하는 가상 기기를 이용하는 방법이고, 또 하나는 실제 스마트폰을 이용하는 방법입니다. 차례대로 살펴보겠습니다.
가상 기기에서 실행
안드로이드 가상 기기는 AVD Android virtual device 라고 하며 흔히 에뮬레이터 Emulator 라고 부릅니다.
먼저 AVD로 앱을 테스트하는 방법을 살펴보겠습니다. 안드로이드 스튜디오에서 오른쪽 위에 있는 아이콘을 클릭하면 AVD 매니저가 실행됩니다. AVD 매니저에서 [Create Virtual Device]를 클릭하면 에뮬레이터 만들기를 시작합니다.
그림 1-21 AVD 매니저 아이콘과 생성 창
하드웨어 선택
다음처럼 하드웨어를 선택하는 창이 나타나면 목록에서 선택하고 <Next>를 클릭합니다. 이책에서는 기본으로 선택된 Pixel 2 스마트폰으로 진행하겠습니다.

시스템 이미지 선택
그다음으로 시스템 이미지를 선택하는 창이 나타납니다. AVD 설정에서 이 부분이 가장 중요 한데 앞에서 선택한 하드웨어에 설치할 시스템 이미지, 즉 안드로이드 운영체제 버전을 선택 해야 합니다. 우선 목록 위에서 두 번째 탭인 [x86 Images]를 클릭합니
  
  
