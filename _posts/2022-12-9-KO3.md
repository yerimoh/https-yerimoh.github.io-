---
title: "[03] App: 안드로이드 앱 화면 구성 방법"
date:   2022-12-9
excerpt: "프로젝트의 폴더 구성,모듈의 폴더 구성 알아보기(그래들 빌드 설정 파일, 메인 환경 파일, 리소스 폴더, 레이아웃 XML 파일, 메인 액티비티 파일"
category: [App]
layout: post
tag:
- Kotlin
- App
order: 0

comments: true
---

# 목차


----

# 화면을 구성하는 방법

06-1 화면을 구성하는 방법
액티비티-뷰 구조
안드로이드 앱의 기본 구조는 컴포넌트를 기반으로 합니다. 즉, 안드로이드 앱은 액티비티, 서비스, 브로드캐스트 리시버, 콘텐츠 프로바이더와 같은 컴포넌트를 적절하게 조합해서 만듭니다. 그런데 이 중에서 화면을 출력하는 컴포넌트는 액티비티뿐입니다. 결국 앱에서 화면을 출력하고 싶다면 액티비티를 만들어야 하고 이렇게 만든 액티비티에서 출력한 내용이 기기의 화면에 보이는 것입니다.
액티비티
실행
화면 출력
그림 6-1 액티비티에서 화면 출력
깡샘!
질문 있어요!
액티비티는 무조건 만들어야 하나요?
물론 대부분 앱이 화면을 제공하므로 액티비티를 중심으로 개발하지만 화면 없이 백그라운드 에서만 실행하도록 개발할 수도 있습니다. 실제 안드로이드폰에는 화면을 제공하지 않는 앱도 많습니다.
그럼 화면이 10개라면 액티비티도 10개를 만들어야 하나요?
사용자에게 보여 줄 화면이 10개여도 액티비티 1개로 만들 수 있습니다. 이후에 자세하게 다루겠지만 프래그먼트(Fragment)를 이용하면 됩니다. 그러나 지금은 학습 초반이므로 액티 비티 1개당 화면 1개를 만든다고 이해해도 좋습니

액티비티는 화면을 출력하는 컴포넌트일 뿐이지 그 자체가 화면은 아닙니다. 따라서 액티비 티에서 적절한 화면을 구성해야 합니다. 별도로 화면 구성을 하지 않고 단순히 액티비티만 실행하면 텅 빈 흰색 화면만 보입니다. 만약 화면에 내용을 표시하려면 뷰 view 클래스를 이용해 구성해야 합니다.
예를 들어 화면에 문자열을 출력하려면 TextView 클래 스를 이용하고, 이미지를 출력하려면 ImageView 클래스를 이용합니다. 이런 TextView, ImageView 등의 클래스를 뷰 클래스라고 합니다. 결국 액티비티가 실행되면서뷰 클래스를 이용해 화면을 구성하고 이를 기기의 화면에 출력하는 구조입니다.
텍스트 뷰
그림 6-2 뷰 클래스로 화면 구성
액티비티 코드로 화면 구성하기
액티비티에서 뷰로 화면을 구성하는 방법은 2가지입니다. 액티비티 코드로 작성하는 방법과 레이아웃 XML 파일로 작성하는 방법 입니다. 액티비티 코드로 작성하는 방법은 화면을 구성하는 뷰 클래스를 액티비티 코드에서 직접 생성합니다.
예를 들어 그림과 같은 화면을 구성한다고 생각해 본다면 TextView 클래스 2개와 ImageView 클래스 1개가 필요합니다. 그리고 이를 화면에 배치하려면 LinearLayout 클래스를 사용할 수 있습니다.
이런 화면을 액티비티에서 직접 코드로 만들려면 다음처럼 작성 하면 됩니다.
그림 6-3 완성하고자 하는 화면
• 액티비티에서 코드로 화면을 만드는 방법(MainActivity.kt)
import android.graphics.Typeface import androidx.appcompat.app.AppCompatActivity import android.os.Bundle import android.view.Gravity import android.view.ViewGroup.LayoutParams.WRAP_CONTENT

import android.widget.ImageView import android.widget.LinearLayout import android.widget.TextView import androidx.core.content.ContextCompat
class MainActivity : AppCompatActivity() { override fun onCreate(savedInstanceState: Bundle?) { super.onCreate(savedInstanceState)
// 이름 문자열 출력 TextView 생성
val name = TextView(this).apply {
typeface = Typeface.DEFAULT_BOLD text = “Lake Louise” }
// 이미지 출력 ImageView 생성
val image = ImageView(this).also { it.setImageDrawable(ContextCompat.getDrawable(this, R.drawable.lake_1)) }
// 주소 문자열 출력 TextView 생성
val address = TextView(this).apply {
typeface = Typeface.DEFAULT_BOLD text = “Lake Louise, AB, 캐나다”
} val layout = LinearLayout(this).apply {
orientation = LinearLayout.VERTICAL gravity = Gravity.CENTER // LinearLayout 객체에 TextView, ImageView, TextView 객체 추가 addView(name, WRAP_CONTENT, WRAP_CONTENT) addView(image, WRAP_CONTENT, WRAP_CONTENT) addView(address, WRAP_CONTENT, WRAP_CONTENT)
}
// LinearLayout 객체를 화면에 출력 setContentView(layout) } }
이 소스에서는 필요한 뷰 객체를 코드로 직접 생성했으며 크기, 출력 데이터 등도 일일이 객체에 대입했습니다. 그리고 TextView 2개와 ImageView 1개를 추가한 LinearLayout 객체를

액티비티 컴포넌트의 함수인 setContentView()로 전달해 화면을 출력했습니다.
즉, 화면 구성과 관련된 모든 내용을 직접 코드로 작성했습니다. 이렇게 하면 레이아웃 XML 파일은 사용하지 않으므로 작성하지 않아도 됩니다.
깡샘!
질문 있어요!
코드를 보면 apply { } 등이 있는데 이건 어떤 표현식인가요?
자바 개발자에게는 낯선 코드일 것입니다. 결론부터 말하면 apply 함수를 호출하는 구문입 니다. 원래 함수 호출문은 apply( )처럼 소괄호를 써야 합니다. 그런데 호출하려는 함수가 고차 함수(high order function)이고 마지막 전달 인자가 람다 함수이면 소괄호를 생략해도 됩니다. 여기서 고차 함수란 함수형 프로그래밍에 등장하는 용어로, 5장에서 살펴본 대로 함수를 값처럼 취급하여 매개변수나 반환값으로 주고받는 함수를 말합니다.
apply 함수 호출 부분은 다음처럼 작성해도 됩니다.
val name = TextView(this).apply({ })
apply({ }) 형식으로 apply 함수에 람다 함수를 전달한 코드입니다. 이렇게 작성해도 되지만 소괄호와 중괄호를 함께 작성하니 조금 번거로워 보입니다. 그래서 코틀린에서는 함수 호출에 해당하는 소괄호를 생략하여 apply { }처럼 작성할 수 있습니다.
그럼 매개변수로 람다 함수를 전달받는 모든 함수는 소괄호를 생략해도 되는 걸까요? 예를 들어 some()이라는 함수를 다음처럼 선언했다고 가정해 봅시다.
fun some(arg1: () -> Unit) { }
매개변수로 람다 함수를 받는 함수입니다. 이 함수를 호출할 때는 다음처럼 소괄호를 사용해도 되고 생략해도 됩니다.
some ({ println(“hello”) }) some { println(“hello”) }
이번에는 매개변수가 2개 이상인 함수를 생각해 보겠습니다.
fun some(arg1: Int, arg2: () -> Unit, arg3: () -> Unit) {
}
144 셋째마당•앱의 기본 기능 구현하기

Do it! 깡샘의 안드로이드 프로그래밍 with 코틀린 (개정판)  :  친절한 문법 설명과 18개 실습 예제로 배우는 모바일 앱 개발 | 강성윤

[YES24 eBook] 
http://m.yes24.com/Goods/Detail/106370800
